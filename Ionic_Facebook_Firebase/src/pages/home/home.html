<ion-header>
  <ion-navbar>
      <ion-label color="light" (click)="GotoMap()">{{direccion}}</ion-label>
    <ion-buttons start left>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
  </ion-buttons>       
    <ion-buttons right>        
      <button ion-button (click)="goCart()">
        <ion-icon name="ios-cart-outline" style="position: relative; font-weight: bold; font-size: 2em;" color="white">
          <ion-badge id="notifications-badge" style="position: absolute; font-weight: bold; top:-5px; left:9px; font-size:10px;" color="danger">{{total_qty}}</ion-badge> 
        </ion-icon>
      </button>       
    </ion-buttons> 
  </ion-navbar>
</ion-header>

<ion-content padding> 
<!--<p>
    <ion-slides autoplay="1000" loop="true" speed="1000">
        <ion-slide >
          <img src="assets/img/fk/slide_1.jpg">
        </ion-slide>
        <ion-slide >
          <img src="assets/img/fk/slide_2.jpg">
        </ion-slide>
        <ion-slide >
          <img src="assets/img/fk/slide_3.jpg">
        </ion-slide>
      </ion-slides>
</p>-->


       <ion-list class="accordion-list" no-lines>
        <ion-list  *ngFor="let item of listado; let i = index" no-padding no-lines>
          <ion-card ion-item (click)="toggleSection(i)" detail-none [ngClass]="{'section-active': item.open, 'section': !item.open}">
              <img src="{{item.image_cat}}"/>
              <div class="card-title">{{ item.categoria }}</div>
          </ion-card>


        <!--Lista Hijos <ion-icon name="ios-arrow-forward"></ion-icon>-->
          <ion-list *ngIf="item.children && item.open" >
            <ion-list *ngFor="let child of item.children; let j = index" no-padding>
              <ion-item *ngIf="!child.children" ion-item detail-none class="child-item" text-wrap>
                  <ion-thumbnail item-start>
                      <img src="{{child.image}}" (click)="cartadd(child, i,j)" class="image" onerror="this.src='assets/img/champagne.png'" />   
                  </ion-thumbnail>
                 
                  <h2 text-wrap (click)="cartadd(child, i,j)">{{ child.nombre }}</h2>
                  <p text-lowercase (click)="cartadd(child, i,j)">{{ child.descripcion }}</p>
                  <button ion-button outline item-end (click)="cartadd(child, i,j)">S/. {{ child.precio }}</button>

                  
              </ion-item>
            </ion-list>
          </ion-list>
        <!--Lista Hijos-->
            
        </ion-list>
      </ion-list>
  
<div id="ListBackdrop" *ngIf="fabButtonOpened==true" ></div>
</ion-content>
